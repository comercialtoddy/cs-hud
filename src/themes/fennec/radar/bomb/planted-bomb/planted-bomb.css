/* === PLANTED BOMB COMPONENT - ULTRA-SUPREMA TRANSCENDÊNCIA INFINITA === */
/* Camada 18: Crítica - Tensão detonativa transcendental suprema */

.planted-bomb {
	position: absolute;
	top: 0;
	left: 0;

	transform: translate(-50%, -50%);
	border-radius: 0.4rem;
	transition: all 0.2s cubic-bezier(0.4, 0.0, 0.2, 1);
	
	/* Efeitos críticos transcendentais */
	animation: criticalBombTick 1.5s ease-in-out infinite,
			   tensionBuildup 3s ease-in-out infinite alternate;
	will-change: transform, opacity, filter, box-shadow;
	transform-style: preserve-3d;
	backface-visibility: hidden;
	
	/* Sistema de camadas visuais supremas */
	position: relative;
	z-index: 3;
}

.planted-bomb::before {
	content: '';
	position: absolute;
	top: -4px;
	left: -4px;
	right: -4px;
	bottom: -4px;
	border-radius: 0.6rem;
	background: linear-gradient(45deg, 
		rgba(255, 40, 40, 0.15), 
		rgba(255, 80, 40, 0.15), 
		rgba(255, 40, 40, 0.15));
	opacity: 0.7;
	animation: criticalAura 1.2s ease-in-out infinite alternate;
	pointer-events: none;
	z-index: -1;
}

.planted-bomb::after {
	content: '';
	position: absolute;
	top: 50%;
	left: 50%;
	width: 200%;
	height: 200%;
	border-radius: 50%;
	background: radial-gradient(circle, 
		rgba(255, 60, 60, 0.12) 0%, 
		rgba(255, 100, 60, 0.08) 50%,
		transparent 70%);
	transform: translate(-50%, -50%);
	animation: detonationField 2s ease-in-out infinite;
	pointer-events: none;
	z-index: -2;
}

.planted-bomb:not(.--default-level) {
	opacity: 0.75;
	animation: criticalBombTick 1.2s ease-in-out infinite,
			   tensionBuildup 3s ease-in-out infinite alternate,
			   criticalVibration 0.8s ease-in-out infinite;
}

img {
	display: block;
	height: 1.25rem;
	border-radius: 0.3rem;
	transition: filter var(--fade-fast-duration) ease, 
				all 0.2s cubic-bezier(0.4, 0.0, 0.2, 1);
	
	/* Efeitos de imagem transcendentais */
	filter: drop-shadow(0 0 5px rgba(255, 60, 60, 0.4));
	animation: criticalGlow 1s ease-in-out infinite alternate;
}

img.--planted {
	filter: url(#bomb-planted-fill-from-white-filter) 
			drop-shadow(0 0 6px rgba(255, 80, 80, 0.5));
	animation: criticalGlow 1s ease-in-out infinite alternate,
			   plantedIntensity 2s ease-in-out infinite;
}

img.--defusing {
	filter: url(#bomb-defusing-fill-from-white-filter) 
			drop-shadow(0 0 8px rgba(80, 180, 255, 0.6));
	animation: defusingStabilize 0.5s ease-in-out infinite alternate,
			   rescueGlow 1.5s ease-in-out infinite;
}

img.--defused {
	filter: url(#bomb-defused-fill-from-white-filter) 
			drop-shadow(0 0 6px rgba(80, 255, 120, 0.5));
	animation: defusedRelief 3s ease-in-out infinite,
			   successPulse 2s ease-in-out infinite alternate;
}

img.--exploded {
	filter: url(#bomb-exploded-fill-from-white-filter) 
			drop-shadow(0 0 10px rgba(255, 120, 0, 0.8));
	animation: explosionAftermath 4s ease-in-out infinite,
			   devastationEcho 2.5s ease-in-out infinite alternate;
}

/* === KEYFRAMES TRANSCENDENTAIS SUPREMOS === */

@keyframes criticalBombTick {
	0%, 90% { 
		transform: translate(-50%, -50%) scale(1);
		box-shadow: 0 0 10px rgba(255, 60, 60, 0.3);
	}
	95% { 
		transform: translate(-50%, -50%) scale(1.08);
		box-shadow: 0 0 18px rgba(255, 60, 60, 0.6);
	}
	100% { 
		transform: translate(-50%, -50%) scale(1.02);
		box-shadow: 0 0 15px rgba(255, 60, 60, 0.4);
	}
}

@keyframes tensionBuildup {
	0% { 
		filter: brightness(1) saturate(1) contrast(1);
	}
	100% { 
		filter: brightness(1.3) saturate(1.4) contrast(1.2);
	}
}

@keyframes criticalAura {
	0% { 
		opacity: 0.5;
		transform: scale(1) rotate(0deg);
	}
	100% { 
		opacity: 0.8;
		transform: scale(1.15) rotate(2deg);
	}
}

@keyframes detonationField {
	0%, 100% { 
		opacity: 0.12;
		transform: translate(-50%, -50%) scale(1) rotate(0deg);
	}
	50% { 
		opacity: 0.25;
		transform: translate(-50%, -50%) scale(1.3) rotate(180deg);
	}
}

@keyframes criticalVibration {
	0%, 100% { 
		transform: translate(-50%, -50%) translateX(0px) translateY(0px);
	}
	25% { 
		transform: translate(-50%, -50%) translateX(-0.5px) translateY(0.3px);
	}
	50% { 
		transform: translate(-50%, -50%) translateX(0px) translateY(-0.5px);
	}
	75% { 
		transform: translate(-50%, -50%) translateX(0.5px) translateY(0.3px);
	}
}

@keyframes criticalGlow {
	0% { 
		filter: drop-shadow(0 0 5px rgba(255, 60, 60, 0.4)) brightness(1);
	}
	100% { 
		filter: drop-shadow(0 0 10px rgba(255, 60, 60, 0.7)) brightness(1.2);
	}
}

@keyframes plantedIntensity {
	0%, 100% { 
		transform: scale(1) rotateZ(0deg);
	}
	50% { 
		transform: scale(1.05) rotateZ(1deg);
	}
}

@keyframes defusingStabilize {
	0% { 
		filter: url(#bomb-defusing-fill-from-white-filter) 
				drop-shadow(0 0 8px rgba(80, 180, 255, 0.6)) brightness(1);
	}
	100% { 
		filter: url(#bomb-defusing-fill-from-white-filter) 
				drop-shadow(0 0 12px rgba(80, 180, 255, 0.8)) brightness(1.1);
	}
}

@keyframes rescueGlow {
	0%, 100% { 
		transform: scale(1);
		opacity: 1;
	}
	50% { 
		transform: scale(1.03);
		opacity: 0.9;
	}
}

@keyframes defusedRelief {
	0%, 100% { 
		transform: scale(1) rotateZ(0deg);
		opacity: 1;
	}
	50% { 
		transform: scale(0.98) rotateZ(-1deg);
		opacity: 0.8;
	}
}

@keyframes successPulse {
	0% { 
		filter: url(#bomb-defused-fill-from-white-filter) 
				drop-shadow(0 0 6px rgba(80, 255, 120, 0.5)) brightness(1);
	}
	100% { 
		filter: url(#bomb-defused-fill-from-white-filter) 
				drop-shadow(0 0 12px rgba(80, 255, 120, 0.8)) brightness(1.15);
	}
}

@keyframes explosionAftermath {
	0%, 100% { 
		transform: scale(1) rotateZ(0deg);
		opacity: 0.9;
	}
	25% { 
		transform: scale(1.1) rotateZ(2deg);
		opacity: 0.7;
	}
	50% { 
		transform: scale(0.95) rotateZ(0deg);
		opacity: 1;
	}
	75% { 
		transform: scale(1.05) rotateZ(-2deg);
		opacity: 0.8;
	}
}

@keyframes devastationEcho {
	0% { 
		filter: url(#bomb-exploded-fill-from-white-filter) 
				drop-shadow(0 0 10px rgba(255, 120, 0, 0.8)) brightness(1);
	}
	100% { 
		filter: url(#bomb-exploded-fill-from-white-filter) 
				drop-shadow(0 0 20px rgba(255, 120, 0, 1)) brightness(1.3);
	}
}
